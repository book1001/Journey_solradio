<!doctype html>
<html>
<head>
  <title>⠀</title>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <link id="favicon" rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90' fill='white'>☼</text></svg>">

  <!-- css -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
  <link rel="stylesheet" href="font.css">
  <link rel="stylesheet" href="playlist.css">
</head>

<body>
  <h1>Sol–Ra.dio</h1>
  <input type="text" id="searchInput" placeholder="Enter song name" />
  <button id="searchBtn"><span class="material-symbols-outlined">search</span></button>
  <div id="result"></div>

  <!-- <div id="printable">
    <h3>🎉 Shared Playlist</h3>
    <ul>
      <li>01. Song Title - Artist</li>
      <li>02. Another Song - Artist</li>
    </ul>
  </div>
  <button onclick="printToThermalPrinter()">🖨️ 프린트</button> -->


  <a href="/login"><button id="loginBtn"><span class="material-symbols-outlined">refresh</span></button></a>
  
  <button id="playAllBtn"><span class="material-symbols-outlined">play_arrow</span></button>
  <button id="pauseBtn"><span class="material-symbols-outlined">pause</span></button>
  <button id="stopBtn"><span class="material-symbols-outlined">stop</span></button>
  <div id="playlistContainer"></div>

  <!-- ====================================================== -->
  <!-- JS -->
  <!-- ====================================================== -->
  <script src="https://sdk.scdn.co/spotify-player.js"></script>
  <script src="playlist.js"></script>

  <!-- <script>
    async function printToThermalPrinter() {
      const text = extractPrintableText();
      const encoder = new TextEncoder();

      try {
        // Bluetooth 연결
        const device = await navigator.bluetooth.requestDevice({
          filters: [{ namePrefix: "Printer" }], // 필요 시 변경
          optionalServices: [0xFF00] // ESC/POS 대부분 여기에 있음
        });

        const server = await device.gatt.connect();
        const service = await server.getPrimaryService(0xFF00);
        const characteristic = await service.getCharacteristic(0xFF01);

        // ESC/POS 명령어 + 텍스트 생성
        const escInit = Uint8Array.from([0x1B, 0x40]); // 프린터 초기화
        const content = encoder.encode(text + "\n\n\n");

        // 데이터 전송
        await characteristic.writeValue(escInit);
        await characteristic.writeValue(content);
        alert("✅ 프린트 완료");

      } catch (err) {
        console.error("프린트 실패:", err);
        alert("❌ 프린트 오류: " + err.message);
      }
    }

    // div에서 텍스트 추출
    function extractPrintableText() {
      const div = document.getElementById("printable");
      let text = div.innerText || div.textContent || "";
      text = text.replace(/\n+/g, "\n"); // 줄바꿈 정리
      return text.trim();
    }
    </script> -->

</body>
</html>
