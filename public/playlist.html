<!doctype html>
<html>
<head>
  <title>â €</title>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <link id="favicon" rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90' fill='white'>â˜¼</text></svg>">

  <!-- css -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
  <link rel="stylesheet" href="font.css">
  <link rel="stylesheet" href="playlist.css">
</head>

<body>
  <h1>Solâ€“Ra.dio</h1>
  <input type="text" id="searchInput" placeholder="Enter song name" />
  <button id="searchBtn"><span class="material-symbols-outlined">search</span></button>
  <div id="result"></div>

  <!-- <div id="printable">
    <h3>ğŸ‰ Shared Playlist</h3>
    <ul>
      <li>01. Song Title - Artist</li>
      <li>02. Another Song - Artist</li>
    </ul>
  </div>
  <button onclick="printToThermalPrinter()">ğŸ–¨ï¸ í”„ë¦°íŠ¸</button> -->


  <a href="/login"><button id="loginBtn"><span class="material-symbols-outlined">refresh</span></button></a>
  
  <button id="playAllBtn"><span class="material-symbols-outlined">play_arrow</span></button>
  <button id="pauseBtn"><span class="material-symbols-outlined">pause</span></button>
  <button id="stopBtn"><span class="material-symbols-outlined">stop</span></button>
  <div id="playlistContainer"></div>

  <!-- ====================================================== -->
  <!-- JS -->
  <!-- ====================================================== -->
  <script src="https://sdk.scdn.co/spotify-player.js"></script>
  <script src="playlist.js"></script>

  <!-- <script>
    async function printToThermalPrinter() {
      const text = extractPrintableText();
      const encoder = new TextEncoder();

      try {
        // Bluetooth ì—°ê²°
        const device = await navigator.bluetooth.requestDevice({
          filters: [{ namePrefix: "Printer" }], // í•„ìš” ì‹œ ë³€ê²½
          optionalServices: [0xFF00] // ESC/POS ëŒ€ë¶€ë¶„ ì—¬ê¸°ì— ìˆìŒ
        });

        const server = await device.gatt.connect();
        const service = await server.getPrimaryService(0xFF00);
        const characteristic = await service.getCharacteristic(0xFF01);

        // ESC/POS ëª…ë ¹ì–´ + í…ìŠ¤íŠ¸ ìƒì„±
        const escInit = Uint8Array.from([0x1B, 0x40]); // í”„ë¦°í„° ì´ˆê¸°í™”
        const content = encoder.encode(text + "\n\n\n");

        // ë°ì´í„° ì „ì†¡
        await characteristic.writeValue(escInit);
        await characteristic.writeValue(content);
        alert("âœ… í”„ë¦°íŠ¸ ì™„ë£Œ");

      } catch (err) {
        console.error("í”„ë¦°íŠ¸ ì‹¤íŒ¨:", err);
        alert("âŒ í”„ë¦°íŠ¸ ì˜¤ë¥˜: " + err.message);
      }
    }

    // divì—ì„œ í…ìŠ¤íŠ¸ ì¶”ì¶œ
    function extractPrintableText() {
      const div = document.getElementById("printable");
      let text = div.innerText || div.textContent || "";
      text = text.replace(/\n+/g, "\n"); // ì¤„ë°”ê¿ˆ ì •ë¦¬
      return text.trim();
    }
    </script> -->

</body>
</html>
